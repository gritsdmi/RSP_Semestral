<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<!--CODE FOR COPY-->
<div th:insert="~{fragments/header :: header}"></div>
<!--CODE FOR COPY-->

<th:block th:fragment="header">
    <header class="header">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="header_content d-flex flex-row align-items-center justify-content-start">
                        <div class="header_content_inner d-flex flex-row align-items-end justify-content-start">
                            <div class="logo"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? @{/guest/home} : @{/tourist/home}">TripGuide</a></div>
                            <nav class="main_nav">
                                <ul class="d-flex flex-row align-items-start justify-content-start">
                                    <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('home')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/home' : '/tourist/home'">Home</a></li>
                                    <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('destinations')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/destinations' : '/tourist/destinations'">Destinations</a></li>
                                    <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('contact')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/contact' : '/tourist/contact'">Contact</a></li>
                                </ul>
                            </nav>
                            <!-- Hamburger -->
                            <div class="hamburger ml-auto">
                                <i class="fa fa-bars" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header_social d-flex flex-row align-items-center justify-content-start">
            <ul class="d-flex flex-row align-items-start justify-content-start">
                <li><a th:href="@{/tourist/account}" >
                    <button type="button" class="btn btn-outline-light" th:if="${!#authorization.authentication.principal.equals('anonymousUser')}">Account</button>
                </a></li>
                <li><a th:href="@{/logout}" th:if="${!#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-light">Logout</button>
                </a></li>

                <li><a href="#" th:if="${#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-light" id="display-login">Sign in</button>
                </a></li>
                <li><a href="/registration" th:if="${#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-light">Registration</button>
                </a></li>
            </ul>
        </div>
    </header>

    <!-- Header in case of small window size -->

    <div class="menu">
        <div class="menu_header d-flex flex-row align-items-center justify-content-start">
            <div class="menu_logo"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? @{/guest/home} : @{/tourist/home}">TripGuide</a></div>
            <div class="menu_close_container ml-auto"><div class="menu_close"><div></div><div></div></div></div>
        </div>
        <div class="menu_content">
            <ul>
                <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('home')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/home' : '/tourist/home'">Home</a></li>
                <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('destinations')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/destinations' : '/tourist/destinations'">Destinations</a></li>
                <li th:classappend="${(#httpServletRequest.requestURL.toString().contains('contact')) ? 'active' : ''}"><a th:href="${#authorization.authentication.principal.equals('anonymousUser')} ? '/guest/contact' : '/tourist/contact'">Contact</a></li>
            </ul>
        </div>
        <div class="menu_social" >
            <ul class="d-flex flex-row align-items-start justify-content-start">
                <li><a th:href="@{/tourist/account}" th:if="${!#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-dark" >Account</button>
                </a></li>
                <li><a th:href="@{/logout}" th:if="${!#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-dark">Logout</button>
                </a></li>
                <li><a href="#" th:if="${#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-dark" id="display-login">Sign in</button>
                </a></li>
                <li><a href="/registration" th:if="${#authorization.authentication.principal.equals('anonymousUser')}">
                    <button type="button" class="btn btn-outline-dark">Registration</button>
                </a></li>
            </ul>
        </div>
    </div>
</th:block>

</body>
</html>